@using ShallvaMVC.Models

@model  List<CategoryListItem>


<ul id="level-0">
    <li>
        <a href="@Url.Action("ProductsList", "Products")">כל המוצרים</a>
    </li>

    @foreach (var category in Model)
    {
        <li id="@(category.Id)">
            

            @if (category.SubCategories != null && category.SubCategories.Count > 0)
            {
                <a href="#@category.Id">@Html.Raw(category.Name)</a>
                <ul>
                    @foreach (var subCategory in category.SubCategories)
                    {
                        <li>
                            <a href="@Url.Action("ProductsList", "Products", new { categoryId = category.Id, subCategoryId = subCategory.Id })">@Html.Raw(subCategory.Name)</a>
                        </li>
                    }
                </ul>
            }
            else
            {
                <a href="@Url.Action("ProductsList", "Products", new { categoryId = category.Id })">@Html.Raw(category.Name)</a>
            }
        </li>
    }

</ul>